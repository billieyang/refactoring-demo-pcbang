package kr.ac.chungnam.service;

import kr.ac.chungnam.domain.PcBang;
import kr.ac.chungnam.domain.Player;

import java.util.ArrayList;
import java.util.List;

public class PcBangService {
    private List<PcBang> pcBangs;

    public PcBangService(List<PcBang> pcBangs) {
        this.pcBangs = pcBangs;
    }

    /*
    ......................................
    ............................................................................
    ............................................................................
    ............................................................................
    ............3개월간 작성된 다른 팀원의 코드..........................
    ............................................................................
    ......................................
    ......................................
    ..................................................................................................................
    ......................................

    ......................................
    ............................................................................
    ............................................................................
    ............................................................................
    ............3개월간 작성된 다른 팀원의 코드..........................
    ............................................................................
    ......................................
    ......................................
    ..................................................................................................................
    ......................................

    ......................................
    ............................................................................
    ............................................................................
    ............................................................................
    ............3개월간 작성된 다른 팀원의 코드..........................
    ............................................................................
    ......................................
    ......................................
    ..................................................................................................................
    ......................................

    ......................................
    ............................................................................
    ............................................................................
    ............................................................................
    ............3개월간 작성된 다른 팀원의 코드..........................
    ............................................................................
    ......................................
    ......................................
    ..................................................................................................................
    ......................................

    ......................................
    ............................................................................
    ............................................................................
    ............................................................................
    ............3개월간 작성된 다른 팀원의 코드..........................
    ............................................................................
    ......................................
    ......................................
    ..................................................................................................................
    ......................................


     */

    public List<String> getRewardsOfPlayer(Player player) {
        for (PcBang pcBang : pcBangs) {
            for (String pc : pcBang.getPc()) {
                if (pc.equals(player.getIpAddr())) {
                    // PC방임
                    List<String> rewards = new ArrayList<>();
                    rewards.add("ALL_CHAMPIONS");
                    rewards.add("BONUS_XP");

                    if (isEventAvailable(pcBang.getName())) {
                        rewards.add("ALL_SKINS");
                    }
                    return rewards;
                }
            }
        }

        // PC방 아님
        return new ArrayList<>();
    }

    private boolean isEventAvailable(String pcBangName) {
        return pcBangName.equals("제논 PC방") ||
                pcBangName.equals("레온고 PC방") ||
                pcBangName.equals("인디고 PC Cafe") ||
                pcBangName.equals("매직 PC방");
    }
}
